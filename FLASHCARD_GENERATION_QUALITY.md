# Руководство по качеству генерации флеш-карточек

## Улучшения промпта

Промпт для генерации флеш-карточек был значительно улучшен для создания более качественных вопросов и ответов.

## Ключевые улучшения

### 1. Типы вопросов

Промпт теперь генерирует разнообразные типы вопросов:

- **Концептуальные**: проверяют понимание идей и принципов
- **Фактические**: проверяют знание конкретных фактов, дат, определений
- **Прикладные**: проверяют умение применять знания в практических ситуациях
- **Сравнительные**: просят сравнить, противопоставить или связать концепции
- **Причинно-следственные**: проверяют понимание связей и зависимостей

### 2. Критерии хороших вопросов

- ✓ Конкретные и однозначные (можно дать четкий ответ)
- ✓ Проверяют понимание, а не просто память
- ✓ Фокусируются на важной информации
- ✓ Избегают тривиальных деталей
- ✓ Используют активную формулировку
- ✓ Один вопрос = одна концепция/факт

### 3. Что избегается

- ✗ Вопросы типа "Что такое...?" для простых определений
- ✗ Слишком общие вопросы без контекста
- ✗ Вопросы с несколькими правильными ответами без уточнения
- ✗ Тривиальные детали, не несущие смысловой нагрузки

### 4. Требования к ответам

**Структура:**
- Начинается с прямого ответа на вопрос
- Добавляются ключевые детали и контекст
- Включаются важные примеры или пояснения (если уместно)
- Завершается связью с общей темой (если применимо)

**Объем:**
- 1-3 предложения для простых фактов
- 2-4 предложения для концепций
- До 5 предложений для сложных тем
- Достаточно информации для полного понимания, но без избыточности

**Точность:**
- Используется точная терминология из материала
- Сохраняются важные цифры, даты, названия
- Избегаются упрощения, которые искажают смысл
- Если есть несколько аспектов - упоминаются ключевые

## Примеры улучшений

### Плохой пример (старый промпт):
```
Q: "Что такое фотосинтез?"
A: "Фотосинтез - это процесс."
```

### Хороший пример (новый промпт):
```
Q: "Какие два основных продукта образуются в результате фотосинтеза и как они используются растением?"
A: "В результате фотосинтеза образуются глюкоза (C₆H₁₂O₆) и кислород (O₂). Глюкоза используется растением как источник энергии для метаболизма и как строительный материал для роста. Кислород выделяется в атмосферу как побочный продукт."
```

### Плохой пример (старый промпт):
```
Q: "Когда была Вторая мировая война?"
A: "1939-1945."
```

### Хороший пример (новый промпт):
```
Q: "Какие ключевые события привели к началу Второй мировой войны в 1939 году?"
A: "Вторую мировую войну спровоцировали агрессивная экспансия нацистской Германии, аннексия Австрии и Чехословакии, пакт Молотова-Риббентропа о разделе Восточной Европы, и нападение Германии на Польшу 1 сентября 1939 года, что привело к объявлению войны со стороны Великобритании и Франции."
```

## Применение

Улучшенный промпт применяется ко всем провайдерам AI:
- OpenAI (GPT-4o, GPT-4o-mini)
- Anthropic (Claude)
- Ollama (локальные модели)

## Дополнительные рекомендации

### Для лучших результатов:

1. **Используйте качественный материал**: Чем лучше исходный текст, тем лучше будут карточки
2. **Выбирайте подходящую модель**: Более мощные модели (GPT-4o, Claude Sonnet) дают лучшие результаты
3. **Настройте количество карточек**: 8-12 карточек обычно оптимально для среднего материала
4. **Проверяйте результаты**: После генерации просмотрите карточки и при необходимости отредактируйте

### Оптимальные настройки:

- **Количество карточек**: 8-10 для среднего материала
- **Temperature**: 0.7 (уже настроено)
- **Модель Ollama**: llama3.2 или более новая версия
- **Модель OpenAI**: gpt-4o-mini или gpt-4o
- **Модель Anthropic**: claude-3-5-sonnet-20241022

## Технические детали

Промпт генерируется функцией `createQualityPrompt()` в файле `src/shared/api/ai-generator.ts`. Эта функция используется всеми провайдерами для обеспечения единообразного высокого качества генерации.

